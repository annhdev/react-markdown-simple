@reference 'tailwindcss';
/*@reference 'tailwindcss/preflight';*/
@reference 'tailwindcss/utilities';
@reference 'tailwindcss/theme';

/*@import 'tailwindcss';*/
/*@import 'tailwindcss/preflight';*/
/*@import 'tailwindcss/utilities';*/
/*@import 'tailwindcss/theme';*/

@utility scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}

/*--font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";*/
/*--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;*/

@layer components {
    .editor-container {
        @apply flex flex-col border border-gray-200 rounded-lg bg-white shadow-sm overflow-hidden h-150 font-sans;

        * {
            @apply font-sans;
        }


        button {
            @apply border-none bg-none bg-transparent;
        }

        .header-bar {

            @apply flex items-center justify-between px-3 py-2 border-b border-gray-200 bg-gray-50 select-none;

            .left-tools, .right-tools {
                @apply flex items-center gap-1 overflow-x-auto scrollbar-hide;
            }

            .left-tools {

                @apply flex items-center gap-1 overflow-x-auto;

                .divide {
                    @apply w-px h-5 bg-gray-300 mx-2;
                }


                .tool-button {
                    @apply p-1.5 text-gray-600 rounded hover:bg-gray-200 hover:text-black transition-colors;

                    svg {
                        width: 1.25rem;
                        height: 1.25rem;
                        display: block;
                        vertical-align: middle;
                    }
                }
            }

            .right-tools {
                @apply flex items-center gap-3 pl-4 border-l border-gray-300;

                .sync-switch {
                    @apply flex items-center gap-2 text-xs font-medium text-gray-600;


                    .switch {
                        @apply cursor-pointer w-8 h-4 bg-gray-300 flex items-center rounded-full p-1 duration-300;

                        .knob {
                            @apply bg-white w-3 h-3 rounded-full shadow-md transform duration-300;
                        }

                        &[data-synced="true"] {
                            @apply bg-blue-500;

                            .knob {
                                @apply translate-x-4;
                            }
                        }
                    }
                }

                .eye-button {
                    @apply p-1.5 rounded hover:bg-gray-200;

                    &:hover {

                    }

                    &[data-preview="true"] {
                        @apply text-gray-500;
                    }

                    &[data-preview="false"] {
                        @apply bg-gray-200 text-blue-600;
                    }

                    svg {
                        width: 1.25rem;
                        height: 1.25rem;
                    }
                }
            }
        }

        .editor-area {
            @apply flex-1 flex overflow-hidden;

            .editor-col {
                @apply flex flex-col h-full;

                &[data-preview="true"] {
                    @apply w-1/2;

                    textarea {
                        @apply border-r border-gray-200;
                    }
                }

                &[data-preview="false"] {
                    @apply w-full;
                }

                textarea {
                    @apply w-full h-full box-border border-none p-4 resize-none outline-none font-mono text-sm leading-relaxed text-gray-800 bg-white;
                }
            }

            .preview-col {
                @apply w-1/2 h-full flex flex-col box-border bg-gray-50;

                .preview-header {
                    @apply px-3 py-1 bg-gray-100 border-b border-b-gray-200 text-xs text-gray-500 font-semibold uppercase tracking-wider;
                }

                .preview {
                    @apply flex-1 h-full box-border overflow-y-auto p-4 text-gray-800;

                    .blockquote {
                        @apply border-l-4 border-gray-300 pl-4 py-1 my-2 italic text-gray-600 bg-gray-50;
                    }

                    .list-decimal {
                        @apply list-decimal pl-5;
                    }

                    .list-disc {
                        @apply list-disc pl-5;
                    }

                    ul, ol {
                        @apply flex flex-col gap-2;
                    }

                    ul.task-list {
                        @apply pl-5 list-none;

                        li {

                            @apply flex flex-row items-center gap-2 m-0;

                            .checkbox {
                                @apply relative size-5 m-1;

                                input[type="checkbox"] {
                                    @apply p-0 m-0 appearance-none size-5 rounded border border-gray-300 checked:bg-blue-400 checked:border-blue-500 disabled:border-gray-300 disabled:bg-gray-50 disabled:checked:bg-gray-300;
                                }

                                svg {
                                    @apply absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 stroke-white size-4;

                                    .check-path {
                                        @apply opacity-0 group-has-checked:opacity-100;
                                    }

                                    .dash-path {
                                        @apply opacity-0;
                                    }
                                }

                                .task-title {
                                    @apply leading-none peer-checked:text-gray-500 peer-checked:line-through text-wrap wrap-normal;
                                }
                            }

                        }
                    }

                    h1 {
                        @apply text-3xl font-extrabold mt-6 mb-4;
                    }

                    h2 {
                        @apply text-2xl font-bold mt-6 mb-3 border-b pb-1;
                    }

                    h3 {
                        @apply text-xl font-bold mt-4 mb-2;
                    }

                    div, p {
                        @apply my-2;
                    }

                    .table-container {
                        @apply overflow-x-auto my-4;

                        table {
                            @apply min-w-full border-collapse border border-gray-300 text-sm;

                            thead {
                                @apply bg-gray-800 text-white;

                                tr {
                                    th {
                                        @apply border border-gray-300 px-4 py-2 text-left;
                                    }
                                }
                            }

                            tbody {
                                tr {
                                    @apply bg-gray-50 hover:bg-gray-100;

                                    &:nth-child(odd) {
                                        @apply bg-white;
                                    }

                                    td {
                                        @apply border border-gray-300 px-4 py-2;
                                    }
                                }
                            }
                        }
                    }

                    strong {
                        @apply font-bold;
                    }

                    em {
                        @apply italic;
                    }

                    code {
                        @apply bg-gray-200 px-2 rounded text-red-500 font-mono text-sm;
                    }

                    img {
                        @apply max-w-full h-auto rounded shadow my-2;
                    }

                    a {
                        @apply text-blue-600 hover:underline;
                    }

                    del {
                        @apply text-gray-400;
                    }

                    .codeblock-container {
                        @apply my-4 rounded-lg overflow-hidden border border-gray-200 bg-gray-50 shadow-sm;

                        .codeblock-header {
                            @apply flex items-center justify-between px-4 py-1.5 bg-gray-100 border-b border-gray-200;

                            .code-language {
                                @apply text-xs font-semibold text-gray-500 uppercase;
                            }

                            .buttons {
                                @apply flex gap-1.5;

                                .button {
                                    @apply w-2.5 h-2.5 rounded-full;

                                    &:nth-child(1) {
                                        @apply bg-red-400;
                                    }

                                    &:nth-child(2) {
                                        @apply bg-yellow-400;
                                    }

                                    &:nth-child(3) {
                                        @apply bg-green-400;
                                    }
                                }
                            }
                        }

                        .codeblock-body {
                            @apply relative flex;

                            pre {
                                @apply p-4 overflow-x-auto text-sm font-mono leading-relaxed text-gray-800;

                                code {
                                    @apply bg-transparent p-0 text-inherit;

                                    .text-purple-600 {
                                        @apply text-purple-600;
                                    }

                                    .text-green-600 {
                                        @apply text-green-600;
                                    }

                                    .text-gray-400 {
                                        @apply text-gray-400;
                                    }

                                    .text-blue-600 {
                                        @apply text-blue-600;
                                    }

                                    .text-orange-600 {
                                        @apply text-orange-600;
                                    }

                                    .italic {
                                        @apply italic;
                                    }

                                    .font-bold {
                                        @apply font-bold;
                                    }
                                }
                            }

                            .tools {
                                @apply absolute top-1 right-1 flex items-center gap-2;

                                .tool-button {
                                    @apply flex items-center gap-1 px-2 py-1 rounded text-xs bg-gray-100 text-gray-500 hover:text-gray-800 transition-colors;

                                    .icon-wrap {
                                        svg {
                                            width: 0.875rem;
                                            height: 0.875rem;
                                        }

                                        .label {

                                        }
                                    }

                                }
                            }
                        }
                    }
                }
            }
        }

        .editor-dialog-container {
            @apply fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 duration-200;

            .editor-dialog {
                @apply bg-white rounded-xl shadow-2xl w-full max-w-sm overflow-hidden;

                .dialog-header {
                    @apply bg-gray-50 px-6 py-4 border-b border-gray-100 flex justify-between items-center;

                    .title {
                        @apply font-semibold text-gray-800;
                    }

                    .close-btn {
                        @apply text-gray-400 hover:text-gray-600;
                    }
                }

                .dialog-body {
                    @apply p-6 space-y-4;

                    &:where(& > :not(:last-child)) {
                        margin-bottom: 1rem;
                    }


                    .dialog-field {
                        @apply flex flex-col w-full box-border;

                        .label {
                            @apply block text-xs font-semibold text-gray-500 uppercase mb-1;
                        }

                        select, input {
                            @apply w-full box-border border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 outline-none bg-white;
                        }
                    }


                }

                .dialog-footer {
                    @apply px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-end gap-2;

                    button {
                        @apply px-4 py-2 text-sm rounded-lg;
                    }

                    .close-btn {
                        @apply text-gray-600 hover:bg-gray-100;
                    }

                    .submit-btn {
                        @apply text-white bg-blue-600 hover:bg-blue-700 font-medium shadow-sm;
                    }
                }
            }
        }
    }
}





