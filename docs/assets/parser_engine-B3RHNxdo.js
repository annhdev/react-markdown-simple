import{t as e}from"./iframe-CXFVjB1H.js";var t={general:`const let var function class return if else for while do switch case break continue new this super extends implements interface type import export from package public private protected static void int float double string boolean namespace using namespace try catch finally throw async await def struct impl enum fn pub let mut mod use crate match echo print println`,python:`def class if else elif for while try except finally raise import from as with pass return print lambda global nonlocal True False None and or not is in self yield`,php:`function class public private protected static return if else elseif for while foreach switch case break continue new this echo print include require use namespace try catch finally throw`,sql:`SELECT FROM WHERE INSERT INTO UPDATE DELETE CREATE DROP ALTER TABLE INDEX VIEW JOIN INNER LEFT RIGHT OUTER ON GROUP BY ORDER BY LIMIT OFFSET AND OR NOT IN IS NULL LIKE AS UNION VALUES PRIMARY KEY FOREIGN KEY DEFAULT`,css:`color background margin padding border font display position top left right bottom width height flex grid align justify overflow z-index transition transform animation @media @include @mixin @import`},n=e=>(e=e.toLowerCase(),[`js`,`javascript`,`ts`,`typescript`,`java`,`c`,`cpp`,`c++`,`c#`,`csharp`,`go`,`golang`,`kotlin`,`swift`,`rust`].includes(e)?t.general:[`py`,`python`,`rb`,`ruby`].includes(e)?t.python:[`php`].includes(e)?t.php:[`sql`].includes(e)?t.sql:[`css`,`scss`].includes(e)?t.css:``),r=class{constructor(){this.tokens=[],this.stash=e=>{let t=this.tokens.length;return this.tokens.push(e),`__TOKEN_${t}__`},this.restore=e=>e.replace(/__TOKEN_(\d+)__/g,(e,t)=>this.tokens[parseInt(t)]||e)}};const i=(e,t)=>{let i=new r;t=t.toLowerCase();let a=e.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`);if([`html`,`xml`,`svg`,`vue`,`jsx`,`tsx`].includes(t))return a=a.replace(/(&lt;!--[\s\S]*?--&gt;)/g,e=>i.stash(`<span class="text-gray-400 italic">${e}</span>`)),a=a.replace(/(&lt;\/?[a-z0-9:-]+)(.*?)(&gt;)/gi,(e,t,n,r)=>`<span class="text-blue-600 font-bold">${t}</span>`+n.replace(/([a-z0-9:-]+)(\s*=\s*)(["'])(?:\\.|[^\\])*?\3/gi,(e,t,n,r)=>{let i=e.substring(t.length+n.length),a=`<span class="text-purple-600">${t}</span>`,o=`<span class="text-green-600">${i}</span>`;return a+n+o})+`<span class="text-blue-600 font-bold">${r}</span>`),i.restore(a);a=a.replace(/(["'`])(?:\\.|[^\\])*?\1/g,e=>i.stash(`<span class="text-green-600">${e}</span>`)),[`py`,`python`,`rb`,`ruby`,`sh`,`yaml`].includes(t)?a=a.replace(/(#.*$)/gm,e=>i.stash(`<span class="text-gray-400 italic">${e}</span>`)):t===`sql`?a=a.replace(/(--.*$)/gm,e=>i.stash(`<span class="text-gray-400 italic">${e}</span>`)):(a=a.replace(/(\/\/.*$)/gm,e=>i.stash(`<span class="text-gray-400 italic">${e}</span>`)),a=a.replace(/(\/\*[\s\S]*?\*\/)/g,e=>i.stash(`<span class="text-gray-400 italic">${e}</span>`)));let o=n(t);if(o){let e=RegExp(`\\b(${o.split(` `).join(`|`)})\\b`,`g`);a=a.replace(e,`<span class="text-purple-600 font-bold">$1</span>`)}return a=a.replace(/(?!(<\/?.*?>))(\s+?)(\d+)/g,`<span class="text-orange-600">$2$3</span>`),(t===`css`||t===`scss`)&&(a=a.replace(/([#.][a-zA-Z0-9_-]+)/g,`<span class="text-blue-600 font-bold">$1</span>`)),a=a.replace(/&amp;/g,`&`).replace(/&lt;/g,`<`).replace(/&gt;/g,`>`),i.restore(a)},a={key:`code-block`,name:`code`,codeBlocks:[],transform:e=>(e=e.replace(/```(\w*)([\s\S]*?)```/g,(e,t,n)=>{let r=t||`text`,o=`
              <div class="codeblock-container my-4 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-500 bg-gray-50 dark:bg-slate-800 dark:text-white shadow-sm">
                <div class="codeblock-header flex items-center justify-between px-4 py-1.5 bg-gray-100 dark:bg-slate-700 border-b border-gray-200 dark:border-gray-500">
                   <span class="code-language text-xs font-semibold text-gray-500 uppercase">${r}</span>
                   <span class="buttons flex gap-1.5">
                      <span class="button w-2.5 h-2.5 rounded-full bg-red-400"></span>
                      <span class="button w-2.5 h-2.5 rounded-full bg-yellow-400"></span>
                      <span class="button w-2.5 h-2.5 rounded-full bg-green-400"></span>
                   </span>
                </div>
                <div class="codeblock-body relative flex">
                    <pre class="p-4 overflow-x-auto text-sm font-mono leading-relaxed text-gray-800 dark:text-gray-400"><code>${i(n.trim(),r)}</code></pre>
                    <div class="tools absolute top-1 right-1 flex items-center gap-2">
                      <button class="tool-button js-copy-btn flex items-center gap-1 px-2 py-1 rounded text-xs bg-gray-100 text-gray-500 hover:text-gray-800 transition-colors" title="Copy to clipboard">
                         <span class="icon-wrap">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                         </span>
                         <span class="label">Copy</span>
                      </button>
                   </div>
                </div>
              </div>
            `;return a.codeBlocks.push(o),`__CODEBLOCK_${a.codeBlocks.length-1}__`}),e),restore:e=>e.replace(/__CODEBLOCK_(\d+)__/g,(e,t)=>a.codeBlocks[parseInt(t)]),trigger:{afterRender:()=>{document.querySelectorAll(`.js-copy-btn`).forEach(e=>{e.addEventListener(`click`,()=>{let t=e.closest(`div.relative`)?.querySelector(`pre code`);if(t){let n=t.textContent||``;navigator.clipboard.writeText(n).then(()=>{let t=e.querySelector(`.label`);t&&(t.textContent=`Copied!`,setTimeout(()=>{t.textContent=`Copy`},2e3))})}})})}}};var o=e();const s={key:`youtube-embed`,name:`youtube embed`,icon:(0,o.jsxs)(`svg`,{viewBox:`0 0 24 24`,className:`size-4`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,o.jsx)(`rect`,{x:`2`,y:`5`,width:`20`,height:`14`,rx:`4`,ry:`4`}),(0,o.jsx)(`polygon`,{points:`10 9 15 12 10 15 10 9`})]}),toolbarButtonType:`button`,tooltip:`Embed YouTube Video`,toolbarOrder:2,showInToolbar:!0,transform:e=>e.replace(/!yt\[(.*?)]\((.*?)\)/g,(e,t,n)=>`<iframe width="560" height="315" src="https://www.youtube.com/embed/${n.split(`v=`)[1]}" title="${t}" frameborder="0" allowfullscreen></iframe>`),onToolbarClick:e=>{e.openDialog({title:`Embed YouTube Video`,fields:[{key:`title`,label:`Video Title`,type:`text`,placeholder:`Enter video title`},{key:`url`,label:`YouTube URL`,type:`text`,placeholder:`https://www.youtube.com/watch?v=VIDEO_ID`}],onConfirm:t=>{let n=`!yt[${t.title}](${t.url})`;e.insertText(n)}})}},c={key:`raw-image`,name:`Insert Image`,icon:(0,o.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,className:`w-5 h-5`,children:[(0,o.jsx)(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`,ry:`2`}),(0,o.jsx)(`circle`,{cx:`8.5`,cy:`8.5`,r:`1.5`}),(0,o.jsx)(`polyline`,{points:`21 15 16 10 5 21`})]}),toolbarButtonType:`button`,tooltip:`Insert Image (Custom Size)`,toolbarOrder:1,showInToolbar:!0,rawImages:[],onToolbarClick:({openDialog:e,insertText:t})=>{e({title:`Insert Image`,fields:[{key:`src`,label:`Image URL`,type:`text`,placeholder:`https://example.com/image.png`},{key:`width`,label:`Width`,type:`text`,placeholder:`200px`,defaultValue:`100%`},{key:`height`,label:`Height`,type:`text`,placeholder:`auto`,defaultValue:`auto`},{key:`alt`,label:`Alt Text`,type:`text`,placeholder:`Description`}],onConfirm:e=>{t(`<img src="${e.src}" width="${e.width}" height="${e.height}" alt="${e.alt}" title="${e.alt}" />`)}})},transform:e=>e.replace(/<(img|image)[^>]+>/gi,e=>(c.rawImages.push(e),`__RAW_IMG_${c.rawImages.length-1}__`)),restore:e=>e.replace(/__RAW_IMG_(\d+)__/g,(e,t)=>{let n=c.rawImages[parseInt(t)],r=n.match(/src=["']([^"']+)["']/i),i=r?r[1]:``,a=n.match(/alt=["']([^"']+)["']/i),o=a?a[1]:``,s=n.match(/width=["']([^"']+)["']/i),l=s?s[1]:`100%`,u=n.match(/title=["']([^"']+)["']/i);return`<img src="${i}" alt="${o}" width="${l}" title="${u?u[1]:``}" />`})},l={key:`raw-link`,name:`Insert Link`,tooltip:`Insert Link (Raw HTML)`,rawLinks:[],showInToolbar:!1,transform:e=>e.replace(/<a[^>]+>(.*?)<\/a>/gi,e=>(l.rawLinks.push(e),`__RAW_LINK_${l.rawLinks.length-1}__`)),restore:e=>e.replace(/__RAW_LINK_(\d+)__/g,(e,t)=>{let n=l.rawLinks[parseInt(t)],r=n.match(/href=["']([^"']+)["']/i),i=r?r[1]:`#`;i=i.replace(/javascript:/gi,``).replace(/data:/gi,``).replace(/vbscript:/gi,``).trim();let a=n.match(/id=["']([^"']+)["']/i),o=a?a[1]:void 0,s=n.match(/title=["']([^"']+)["']/i),c=s?s[1]:void 0,u=n.match(/<a[^>]+>(.*?)<\/a>/i),d=u?u[1]:``;return`<a ${o?`id="${o}"`:``} href="${i} "${c?`title="${c}"`:``}>${d}</a>`})},u=(e,t=[])=>{let n=e||``;t.forEach(e=>{n=e.transform(n)}),n=n.replace(/&/g,`&amp;`).replace(/</g,`&lt;`).replace(/>/g,`&gt;`);let r=n.split(`
`),i=[],a=[],o=0;for(r.forEach(e=>{let t=e.match(/^((?:&gt;|>)+)\s?(.*)/),n=0,r=e;for(t?(n=t[1].replace(/&gt;/g,`>`).length,r=t[2]):n=0;o<n;)i.push(`<blockquote class="blockquote border-l-2 border-gray-300 pl-4 py-1 my-2 italic text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-gray-500 ml-${o*2}" style="margin-left: calc(${o} * 0.25rem)">`),o++;for(;o>n;)i.push(`</blockquote>`),o--;let s=r.match(/^(\s*)(\d+.|-\s\[[x ]]|[-*])\s+(.*)/);if(s){let e=s[1].length,t=Math.floor(e/2),n=s[2],r=s[3],o=`ul`,c=!1,l=!1;n.match(/^\d+\./)?o=`ol`:n.includes(`[`)&&(c=!0,l=n.includes(`x`));let u=a.length>0?a[a.length-1].indent:-1;if(t>u){let e=c?`<ul class="task-list flex flex-col gap-2 pl-5 list-none">`:o===`ol`?`<ol class="list-decimal pl-5">`:`<ul class="list-disc pl-5">`;i.push(e),a.push({type:o,indent:t})}else if(t<u)for(;a.length>0&&a[a.length-1].indent>t;){let e=a.pop();i.push(e?.type===`ol`?`</ol>`:`</ul>`)}c?i.push(`<li class="flex flex-row items-center gap-2 m-0">
                                        <div data-checked=${l?`true`:`false`} class="checkbox group flex justify-center items-center relative">
                                            <input type="checkbox" ${l?`checked`:``} disabled class="p-0 m-0 appearance-none size-5 rounded border border-gray-300 checked:bg-blue-400 checked:border-blue-500 disabled:border-gray-300 disabled:bg-gray-50 disabled:checked:bg-gray-300">
                                            <svg viewBox="0 0 14 14" fill="none" class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 stroke-white size-4">
                                                <path d="M3 8L6 11L11 3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="check-path opacity-0 group-has-checked:opacity-100"></path>
                                                <path d="M3 7H11" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dash-path opacity-0"></path>
                                            </svg> 
                                        </div>
                                        <span style="${l?`text-decoration-line: line-through`:``}">${d(r)}</span>
                                    </li>`):i.push(`<li>${d(r)}</li>`)}else{for(;a.length>0;){let e=a.pop();i.push(e?.type===`ol`?`</ol>`:`</ul>`)}if(!(r.trim()===``&&n>0))if(r.trim()===``)i.push(`<div class="h-4"></div>`);else{let e=r.match(/^#/)?``:n>0?`div`:`p`,t=d(r);t.startsWith(`### `)?i.push(`<h3 class="text-xl font-bold mt-4 mb-2">${t.replace(`### `,``)}</h3>`):t.startsWith(`## `)?i.push(`<h2 class="text-2xl font-bold mt-6 mb-3 border-b pb-1">${t.replace(`## `,``)}</h2>`):t.startsWith(`# `)?i.push(`<h1 class="text-3xl font-extrabold mt-6 mb-4">${t.replace(`# `,``)}</h1>`):e?i.push(`<${e} class="my-2">${t}</${e}>`):i.push(t)}}});a.length>0;){let e=a.pop();i.push(e?.type===`ol`?`</ol>`:`</ul>`)}for(;o>0;)i.push(`</blockquote>`),o--;let s=i.join(`
`);return s=s.replace(/((?:<p\s?.+?>\|.+?\|<\/p>\n?)+)/g,e=>{let t=e.replace(/<p\s?.+?>(.*?)<\/p>/g,`$1`).trim().split(`
`).map(e=>e.split(`|`).filter(e=>e)),n=`<div class="table-container overflow-x-auto my-4"><table class="min-w-full border-collapse border border-gray-300 text-sm">`,r=t[0];n+=`<thead class="bg-gray-800 text-white"><tr>`,r.forEach(e=>{n+=`<th class="border border-gray-300 px-4 py-2 text-left">${e.trim()}</th>`}),n+=`</tr></thead><tbody>`;for(let e=2;e<t.length;e++){let r=t[e];r.length!==0&&(n+=`<tr class="${e%2==0?`bg-white dark:bg-gray-600`:`bg-gray-50 dark:bg-gray-700`} hover:bg-gray-100 dark:hover:bg-gray-800!">`,r.forEach(e=>{n+=`<td class="border border-gray-300 px-4 py-2">${e.trim()}</td>`}),n+=`</tr>`)}return n+=`</tbody></table></div>`,n}),t.forEach(e=>{e.restore&&(s=e.restore(s))}),s},d=e=>e.replace(/\*\*(.*?)\*\*/g,`<strong class="font-bold">$1</strong>`).replace(/\*(.*?)\*/g,`<em class="italic">$1</em>`).replace(/`([^`]+)`/g,`<code class="bg-gray-200 dark:bg-gray-400 px-2 rounded text-red-500 font-mono text-sm">$1</code>`).replace(/!\[(.*?)]\((.*?)\)/g,`<img alt="$1" src="$2" class="max-w-full h-auto rounded shadow my-2" />`).replace(/\[(.*?)]\((.*?)\)/g,`<a href="$2" target="_blank" class="text-blue-600 hover:underline">$1</a>`).replace(/~~(.*?)~~/g,`<del class="text-gray-400">$1</del>`);export{a,s as i,l as n,c as r,u as t};